<template name="jobRates">
    <div class="box">
        <div class="box-header-2">
            <a class="btn-action tip-top editRate" data-original-title="Add Job Rate" href="#" title="Edit"><i class="fa fa-pencil"></i></a>
            <div class="box-title">
                Job Rates
            </div>
            <!--<a class="box-title visible-sm visible-xs" href="#rate-body" data-toggle="collapse" >-->

                <!--Job Rates-->
            <!--</a>-->
        </div>

        <div class="" id="rate-body">
                {{#if rates}}
                    <table class="table ">
                        <thead>
                        <tr>
                            <th>Type</th>
                            <th>Bill</th>
                            <th>Pay</th>
                        </tr>
                        </thead>
                        <tbody>
                        {{#each rates}}
                            <tr>
                                {{#if editMode}}
                                    <td>
                                        {{#with getType type}}
                                        <span>{{displayName}}</span>
                                        {{/with}}
                                        <button class="btn btn-xs btn-default removeRate"><i class="fa fa-times"></i></button>
                                    </td>
                                {{else}}
                                    <td>
                                    {{#with getType type}}
                                        {{displayName}}
                                    {{/with}}
                                    </td>
                                {{/if}}
                                {{#if editMode}}
                                    <input type="number" class="billRateInput" value="{{bill}}">
                                {{else}}
                                    <td><span class="billRateInput">{{round bill}}</span></td>
                                {{/if}}
                                {{#if editMode}}
                                <input type="number" class="payRateInput" value="{{pay}}">
                                {{else}}
                                <td>{{round pay}}</td>
                                {{/if}}
                            </tr>
                        {{/each}}
                        </tbody>
                    </table>
                    {{#if editMode}}
                    <div class="box-header-2" style="height: 60px">
                        <div class="pull-right">
                            <span class="btn btn-default cancelButtonRates">
                                Cancel
                            </span>
                            <span class="btn btn-info saveButtonRates">
                                Save
                            </span>
                        </div>
                    </div>
                    {{/if}}
                {{else}}
                    <div class="box-v-msg">
                        <div class="box-v-msg-content">
                            <i class="icon-money"></i>
                            <p>
                                <a href="#" class="editRate">Add a Rate</a>
                            </p>
                        </div><!-- /.box-v-msg-content -->
                    </div>
                {{/if}}
            {{#if editMode}}
            <!-- New Job Rate -->
            {{#with newRate}}
            <table class="table table-striped">
                <!--<thead>-->
                <!--<tr>-->
                    <!--<th>Type</th>-->
                    <!--<th>Bill</th>-->
                    <!--<th>Pay</th>-->
                <!--</tr>-->
                <!--</thead>-->
                <tbody>
                <tr>
                    <td>

                        <!-- Type -->
                        <div class="col-xs-12 col-lg-8">
                            <label class="col-xs-3  no-padding">Type: </label>
                            <div class="col-xs-9  no-padding">
                                <select class="form-control newRateType">
                                    <option value="">--select--</option>
                                    {{#each getAvailableType}}
                                    <option value="{{_id}}">{{displayName}}</option>
                                    {{/each}}
                                </select>
                            </div>
                        </div>
                    </td>
                    <td>
                        <!-- Bill -->
                        <div class="col-xs-12 no-padding col-lg-6">
                            <label class="col-xs-3 no-padding">Bill: </label>
                            <div class="col-xs-9 no-padding">
                                <input type="number" class="billRateInput form-control" value="{{bill}}">
                            </div>
                        </div>
                    </td>
                    <td>
                        <!-- Pay -->
                        <div class="col-xs-12 no-padding col-lg-6">
                            <label class="col-xs-3 no-padding">Pay: </label>
                            <div class="col-xs-9 no-padding">
                                <input type="number" class="payRateInput form-control" value="{{pay}}">
                            </div>
                        </div>
                        <!-- Add button -->
                        <div>
                            &nbsp;&nbsp;<span class="btn btn-primary addRate"><span class="fa fa-plus"></span></span>
                        </div>
                    </td>
                </tr>
                </tbody>
             </table>
            {{/with}}
            {{/if}}
        </div>

    </div>
</template>


