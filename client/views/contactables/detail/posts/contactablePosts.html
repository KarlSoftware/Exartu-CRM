<template name="contactablePosts">
    <div>
        <div class="box">
            <div class="box-header-2">
                <!-- Nav tabs -->
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a href="#post" data-toggle="tab">
                            <i class="icon icon-list-4"></i>Post</a>
                    </li>
                </ul>
            </div>
            <div class="box-content">
                <!-- Tab panes -->
                <div class="tab-content">
                    <div class="tab-pane active postAdd">
                        <textarea class="form-control" rows="3" placeholder="..." data-bind="value: $root.newPost, valueUpdate: 'afterkeydown', executeOnEnter: {fn: $root.addPost, keys: [13]}"></textarea>
                        <button data-bind="click: $root.addPost, visible: $root.newPost()" class="btn btn-primary pull-right">Add</button>
                    </div>
                    <!-- /#post -->
                </div>
                <!-- /.tab-content -->
            </div>
            <!-- /.box-content-md  -->
        </div>
        <!-- /.box -->
        <!--ko with: contactable-->
            <!-- ko foreach: $data.posts -->
                <div class="comment" data-bind="with: helper.getUserInformation($data.userId())">
                    <!-- ko if: $data.ready -->
                        <div class="comment-thumb">
                            <img height="70px" width="70px" data-bind="attr: {src: picture()? picture : '/assets/user-photo-placeholder.jpg'}">
                        </div>
                        <div class="comment-content">
                            <div class="comment-text">
                                <div class="comment-info">
                                    <a href="#">
                                        <!-- ko if: $data.username -->
                                            <strong data-bind="text: username">
                                            </strong>
                                        <!-- /ko -->
                                        <!-- ko if: !$data.username && $data.email -->
                                            <strong data-bind="text: email"></strong>
                                        <!-- /ko -->
                                    </a>
                                    <span class="pipe">|</span>
                                    <span data-bind="text: moment($parent.createdAt()).format('LL')"></span>
                                </div>
                                <p data-bind="text: $parent.content">
                                </p>
                            </div>
                        </div>
                        <!-- /.comment-content -->
                    <!-- /ko -->
                </div>
            <!-- /ko -->
        <!-- /ko -->
        <!-- /.comment -->

        <!-- /.box -->
    </div>
</template>