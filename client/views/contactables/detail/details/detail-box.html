<template name="contactableDetailBox">
    <div class="box">
        <div class="box-header-2">
            <a class="btn-action pointer" title="Edit"><i id="edit-mode" class="fa fa-pencil" style="color: {{editModeColor}}"></i></a>
            <div class="box-title">
                Details
            </div>
        </div>
        <div class="box-content-md">
            {{#with contactable }}
                <table class="table box-table table-striped">

                    {{#if person }}
                        <tr>
                            <td>First Name</td>
                            <td>
                                {{#objectProperty property=firstName editable=editMode}}
                                    <input class="form-control" type="text" value="{{value}}">
                                {{else}}
                                    <span >{{value}}</span>
                                {{/objectProperty}}
                            </td>
                        </tr>
                        <tr>
                            <td>Last Name</td>
                            <td>
                                {{#objectProperty property=lastName editable=editMode}}
                                    <input class="form-control" type="text" value="{{value}}">
                                {{else}}
                                    <span >{{value}}</span>
                                {{/objectProperty}}
                            </td>
                        </tr>
                        <tr>
                            <td>MiddleName</td>
                            <td>
                                {{#objectProperty property=middleName editable=editMode}}
                                    <input class="form-control" type="text" value="{{value}}">
                                {{else}}
                                    <span >{{value}}</span>
                                {{/objectProperty}}
                            </td>
                        </tr>
                        <tr>
                            <td>Job title</td>
                            <td>
                                {{#objectProperty property=jobTitle editable=editMode}}
                                    <input class="form-control" type="text" value="{{value}}">
                                {{else}}
                                    <span >{{value}}</span>
                                {{/objectProperty}}
                            </td>
                        </tr>
                    {{/if}}

                    {{#if organization }}
                        <tr>
                            <td>Organization</td>
                            <td>
                                {{#objectProperty property=organizationName editable=editMode}}
                                    <input class="form-control" type="text" value="{{value}}">
                                {{else}}
                                    <span >{{value}}</span>
                                {{/objectProperty}}
                            </td>
                        </tr>
                    {{/if}}

                    {{#if Customer }}
                        <tr>
                            <td>Department</td>
                            <td>
                                {{#objectProperty property=department editable=editMode}}
                                    <input class="form-control" type="text" value="{{value}}">
                                {{else}}
                                    <span >{{value}}</span>
                                {{/objectProperty}}
                            </td>
                        </tr>
                    {{/if}}

                    <tr>
                        <td>Status</td>
                        <td>
                            {{#objectProperty property=status editable=editMode}}
                                {{> buttonGroup options=fetchStatusOptions value=value onSelected=onSelectedStatus}}
                            {{else}}
                            <strong>
                                <strong>{{displayName}}</strong>
                            </strong>
                            {{/objectProperty}}
                        </td>
                    </tr>
                    <tr>
                        <td>Status note</td>
                        <td>
                            {{#objectProperty property=statusNote editable=editMode}}
                                <input class="form-control" type="text" value="{{value}}">
                            {{else}}
                                <span >{{value}}</span>
                            {{/objectProperty}}
                        </td>
                    </tr>
                    {{#if Employee }}
                    <tr>
                        <td>TaxID/SSN</td>
                        <td>
                            {{#objectProperty property=taxID editable=editMode}}
                                {{> showTaxIdInput}}
                            {{else}}
                                {{#if hideTaxID}}
                                    <a class="pointer showHideTaxId">Show</a>
                                {{else}}
                                    {{#if value}}
                                        <!--<span id="taxid-text">{{value}}</span> <a class="pointer showHideTaxId">Hide</a>-->
                                        {{> showTaxIdText}}
                                    {{/if}}
                                {{/if}}
                            {{/objectProperty}}
                        </td>
                    </tr>
                    {{/if}}
                    {{#if Customer}}
                    <tr>
                        <td>WorkerComp Code</td>
                        <td>
                            {{#objectProperty property=workerCompCode editable=editMode}}
                            <input class="form-control" type="text" value="{{value}}">
                            {{else}}

                            {{/objectProperty}}
                        </td>
                    </tr>
                    {{/if}}
                </table>
            {{/with}}

            {{> originData}}

        </div>
        {{#if editMode }}
            <div class="box-header-2">
                <a id="cancel-details" class="btn btn-default" > Cancel </a>
                <a id="save-details" class="btn btn-success pull-right" > Save </a>
            </div>
        {{/if}}
    </div>
</template>

<template name="showTaxIdText">
    <span id="taxid-text">{{value}}</span>
</template>

<template name="showTaxIdInput">
    <input id="taxid-input" class="form-control" type="text" value="{{value}}">
</template>