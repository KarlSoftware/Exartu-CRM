<!-- Details view layout -->
<template name="contactable">
    <div class="contactable-page-details">
        <div id="content" class="details">
            {{#with contactable}}
                <div id="content-header" class="mini">
                    <div class="profile-content-header" style="padding: 15px 20px;">
                        {{>contactable_header}}
                    </div>
                </div>

                <div id="breadcrumb" style="margin-bottom: 0px;">
                    <a href="/" title="Go to Home" class="tip-bottom">Home</a>
                    <a href="/contactables" class="current">{{objTypeDisplayName}}</a>
                </div>

                <div class="container-fluid details-body">
                    {{>contactable_tabs}}
                </div>
            {{/with}}
        </div>
    </div>
</template>

<!-- Headers -->

<template name="contactable_header">
    {{#if pictureFileId}}
        <div class="profile-pic">
            <div class="thumb thumb-md profile-pic-photo"  style="cursor: pointer;">
                <a id="edit-pic" title="Click to Edit" class="pointer">
                    <img class="" src="{{pictureUrl}}" style="max-height: 40px;max-width: 40px;">
                </a>
            </div>
        </div>
    {{else}}
        <div class="profile-pic">
            <div id="edit-pic" class="profile-pic-icon" title="Click to Edit" style="cursor: pointer">
                {{#if person}}
                    <i class="icon-profile-business-man"></i>
                {{/if}}
                {{#if organization}}
                    <i class="icon-buildings-1"></i>
                {{/if}}
            </div>
        </div>
    {{/if}}
    <input id="edit-picture" style="visibility:hidden; display: none" name="files" type="file" class="fileUploader"/>


    <h1 class="profile-name">
        <strong>
            {{displayName}}

            {{#if person}}
                {{#if person.jobTitle}}
                    <small>â€” {{person.jobTitle}}</small>
                {{/if}}
            {{/if}}

            {{#if Contact.customerName}}
                <br>
                <small>
                    <a href="/contactable/{{Contact.customer}}">
                        <strong class="text text-muted" style="font-size: 25px; color: #A29E9E">
                            {{Contact.customerName}}
                            <i class="fa fa-external-link" style="font-size: 14px"></i>
                        </strong>
                    </a>
                </small>
            {{/if}}

            {{#if Customer.department}}
                <small>{{Customer.department}}</small>
            {{/if}}
        </strong>
        <small class="pull-right" style="max-width: 40%;"> {{statusNote}} </small>
    </h1>
    <p class="profile-address">

        {{#if location}}
            <i class="fa fa-map-marker"></i>
            <span>{{location.displayName}}</span>
        {{/if}}
    </p>

    <div class="profile-btns">
        {{#with mainContactMethods}}
            {{#if phone.value}}
                <a class="btn btn-default btn-custom-with-circle" href="callto:{{phone.value}}">
                    <span class="btn-round"><i class="fa fa-phone"></i></span>
                    {{phone.value}}
                </a>
            {{/if}}
            {{#if email.value}}
                <a class="btn btn-default btn-custom-with-circle" href="mailto:{{email.value}}">
                    <span class="btn-round"><i class="fa fa-envelope"></i></span>
                    {{email.value}}
                </a>
            {{/if}}
        {{/with}}
    </div>
</template>

<!-- Tabs -->

<template name="contactable_tabs">
    {{> detailTabs tabs=tabs selected=selectedTab template="contactable" context=.}}
</template>

<template name="contactable_notes">
    {{> notesItem}}
</template>

<template name="contactable_documents">
    {{> contactableDocumentsAdd entity=. collection="ContactablesFS"}}
    {{> contactableDocumentsList entity=. collection="ContactablesFS"}}
</template>

<template name="contactable_jobs">
    {{> customerJobs}}
</template>

<template name="contactable_contacts">
    {{> contactableContactsBox}}
</template>

<template name="contactable_tasks">
    {{> tasksBox}}
</template>

<template name="contactable_details">
    <div class="col-md-6">
        {{> contactableDetailBox}}

        {{> contactableContactMethodsBox}}

        {{#if Contact}}
            {{> customerInfo customer=Contact.customer path='Contact.customer' collection=collection}}
        {{/if}}
    </div>
    <div class="col-md-6">
        {{> contactableLocationBox}}

        {{>tagsBox}}
    </div>
    <div class="col-sm-12">
        <div class="col-sm-12">
            {{> originData}}
        </div>
    </div>
</template>

<template name="contactable_HRConcourse">
    {{>applicantCenter entity=.}}
    {{>contactablePlacementsBox}}
</template>

<template name="contactable_placements">
    {{> placementsBox}}
</template>

<template name="contactable_actions">
    {{#unless ../Employee}}
        {{#if ../Contact}}
            <button id="Employee" class="btn btn-sm btn-info">
                Make Employee
            </button>
        {{/if}}
    {{/unless}}
    {{#unless ../Contact}}
        {{#if ../Employee}}
            <button id="makeContact" class="btn btn-sm btn-info">
                Make Contact
            </button>
        {{/if}}
    {{/unless}}
</template>

<template name="contactable_activities">
    {{> contactableActivities}}
</template>

<!-- Loading screen -->

<template name="loadingContactable">
    <div id="content">
        <div id="content-header" class="mini">
            <h1>Loading</h1>
        </div>
        <div id="breadcrumb">
            <a href="/" title="" class="tip-bottom" data-original-title="Go to Home"><i class="fa fa-home"></i> Home</a>
        </div>
        <div class="container-fluid">
            <div class="page-loader" style="height: 748px;">
            </div>
        </div>
    </div>
</template>