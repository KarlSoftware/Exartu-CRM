<template name="contactable">
    <div class="contactable-page-details">
        <div id="content">

            <div id="breadcrumb" class="breadcrumb-top">
                <a href="#" title="Go to Home" class="tip-bottom">Home</a>
                <a href="#" class="current">Contactables</a>
            </div>
            <div id="content-header" class="content-header-bottom">
                {{#with contactable}}
                <div class="profile-content-header">
                    <div class="profile-pic">
                        {{#if pictureFileId}}
                            <div id="edit-pic" class="profile-pic" title="Click to Edit" style="cursor: pointer;">
                                <img class="img-responsive" src="{{pictureUrl}}" style="max-height: 80px;max-width: 80px;">
                            </div>

                        {{else}}
                            <div id="edit-pic" class="profile-pic-icon" title="Click to Edit" style="cursor: pointer">
                                {{#if person}}
                                    <i class="icon-profile-bussiness-man"></i>
                                {{/if}}
                                {{#if organization}}
                                    <i class="icon-buildings-1"></i>
                                {{/if}}
                            </div>
                        {{/if}}
                        <input id="edit-picture" style="visibility:hidden" name="files" type="file" class="fileUploader"/>
                    </div>
                    {{#if Customer}}
                        {{>customer_header}}
                    {{/if}}
                    {{#if Employee}}
                        {{>employee_header}}
                    {{/if}}
                    <div class="profile-last-update">
                        Created at
                        <small>{{createdAtFormatted}}</small>
                    </div>
                </div>
                {{/with}}
            </div>

            <!-- /.content-header -->
            <div class="container-fluid">
                <div class="row">
                    <!-- Left Column -->
                    <div class="col-sm-8 col-lg-5 contactable-left-col">
                        {{>customer_actions contactable}}
                    </div>

                    <!-- Right Column -->
                    <div class="col-sm-4 col-lg-7 contactable-right-col has-tabs">
                        <div class="row">
                            <div class="col-lg-6">
                                {{#with contactable}}
                                    {{>contactableDetailBox}}
                                {{/with}}
                            </div><!-- /.col-md-6 -->

                            <div class="col-lg-6">

                                <!-- Contacts -->
                                <div class="box">
                                    <div class="box-header-2">
                                            <a class="btn-action tip-top addContact" data-original-title="Add Contact" href="#"><i class="fa fa-plus"></i></a>
                                        <div class="box-title">Contacts</div>
                                    </div>
                                    {{#each contacts}}
                                    <div class="box-content-md">
                                        <ul class="list-3 stripped has-thumb">
                                            <li class="list-3-item">
                                                <div class="list-thumb"><i class="icon-address-1"></i></div>
                                                <div class="list-3-content">
                                                    <div class="list-3-content-wrap">
                                                        <div class="pull-right">
                                                            <a class="btn btn-xs btn-default tip-bottom" title="" href="#" data-original-title="gregg@tempworks.com"><i class="fa fa-envelope-o"></i> </a>
                                                            <a class="btn btn-xs btn-default tip-bottom"  title="" href="#" data-original-title="+40. 752.313.301"><i class="fa fa-phone"></i></a>
                                                            <a class="btn btn-xs btn-default tip-bottom"  title="" href="#" data-original-title="Skype id: mihai_con"><i class="fa fa-skype"></i></a>
                                                        </div>
                                                        <div class="list-3-item-meta-top">Designer</div>
                                                        <h4 class="list-3-item-title"><a href="#">Mihai Constantinescu</a></h4>
                                                    </div><!-- /.list-3-content-wrap -->
                                                </div>
                                            </li>
                                        </ul>

                                    </div><!-- /.box-content-md -->
                                </div><!-- /.box -->

                                <!-- Tags -->
                                {{#with contactable}}
                                    {{>contactableTagsBox}}
                                {{/with}}

                            </div><!-- /.col-md-6 -->
                        </div><!-- /.row -->
                    </div><!-- /.contactable-right-col -->
                    <!-- / Right Column -->

                </div><!-- /.row -->
            </div><!-- /.container-fluid -->
        </div><!-- /.content -->
    </div>
</template>

<template name="customer_header">
    <h1 class="profile-name">
        <strong>{{displayName}}</strong>
        <small>{{Customer.department}}</small>
    </h1>
    <p class="profile-adress">
        <i class="fa fa-map-marker"></i>
        {{#if location}}
            <span>{{location}}</span>
        {{else}}
            <em> Click here to add an address </em>
        {{/if}}
    </p>

    <div class="profile-btns">
        {{#if firstCellPhone }}
        <a class="btn btn-default btn-custom-with-cyrcle" href="#">
            <span class="btn-round"><i class="fa fa-phone"></i></span>
            <span>{{firstCellPhone}}</span>
        </a>
        {{/if}}
        {{#if firstEmail }}
        <a class="btn btn-default btn-custom-with-cyrcle" href="#">
            <span class="btn-round"><i class="fa fa-envelope"></i></span>
            <span>{{firstEmail.value}}</span>
        </a>
        {{/if}}
        <!--<a class="btn btn-default btn-custom-with-cyrcle" href="#"-->
           <!--data-bind="click: function () { Composer.showModal( 'sendMessage',$data); }">-->
            <!--<span class="btn-round"><i class="fa fa-envelope"></i></span>-->
            <!--Message-->
        <!--</a>-->
        <!--<a class="btn btn-default btn-custom-with-cyrcle" href="#"-->
           <!--data-bind="click: function () { Composer.showModal('addContactable', 'Contact',{customer: $data._id()}); }">-->
            <!--<span class="btn-round"><i class="fa fa-plus"></i></span>-->
            <!--Add Contact Method-->
        <!--</a>-->
    </div>
</template>

<template name="customer_actions">
    <ul class="nav nav-tabs nav-tabs-main bottom-20">
        <li class="active"><a href="#profile-notes" data-toggle="tab">Notes <span class="custom-badge-2">8</span></a></li>
        <li><a href="#profile-documents" data-toggle="tab">Documents <span class="custom-badge-2">6</span></a></li>
    </ul>

    <div class="tab-content">
        <!-- Notes Tab -->
        <div class="tab-pane active" id="profile-notes">
            {{> contactableNotesAdd entity=.}}
            {{> contactableNotesList entity=.}}
        </div>
        <!-- Documents Tab -->
        <div class="tab-pane" id="profile-documents">
            {{> contactableDocumentsAdd entity=. collection="ContactablesFS"}}
            {{> contactableDocumentsList entity=. collection="ContactablesFS"}}
        </div><!-- /.profile-documents -->
    </div>
</template>


<template name="employee_header">
    <h1 class="profile-name">
        <strong>{{displayName}}</strong>
        {{#if person}}
            <small>â€” {{person.jobTitle}}</small>
        {{/if}}
    </h1>
    <p class="profile-adress">
        <i class="fa fa-map-marker"></i>
        {{#if location}}
            <span>{{location}}</span>
        {{else}}
            <em> Click here to add an address </em>
        {{/if}}
    </p>

    <div class="profile-btns">
        {{#if firstCellPhone }}
        <a class="btn btn-default btn-custom-with-cyrcle" href="#">
            <span class="btn-round"><i class="fa fa-phone"></i></span>
            <span>{{firstCellPhone}}</span>
        </a>
        {{/if}}
        {{#if firstEmail }}
        <a class="btn btn-default btn-custom-with-cyrcle" href="#">
            <span class="btn-round"><i class="fa fa-envelope"></i></span>
            <span>{{firstEmail.value}}</span>
        </a>
        {{/if}}
        <!--<a class="btn btn-default btn-custom-with-cyrcle" href="#"-->
        <!--data-bind="click: function () { Composer.showModal( 'sendMessage',$data); }">-->
        <!--<span class="btn-round"><i class="fa fa-envelope"></i></span>-->
        <!--Message-->
        <!--</a>-->
        <!--<a class="btn btn-default btn-custom-with-cyrcle" href="#"-->
        <!--data-bind="click: function () { Composer.showModal('addContactable', 'Contact',{customer: $data._id()}); }">-->
        <!--<span class="btn-round"><i class="fa fa-plus"></i></span>-->
        <!--Add Contact Method-->
        <!--</a>-->
    </div>
</template>

<template name="loadingContactable">
            <div id="content">
                <div id="content-header" class="mini">
                    <h1>Dashboard</h1>
                    <ul class="mini-stats box-3">
                        <li>
                            <div class="left sparkline_bar_good"><span><canvas width="41" height="24" style="display: inline-block; width: 41px; height: 24px; vertical-align: top;"></canvas></span>+10%</div>
                            <div class="right">
                                <strong>36094</strong>
                                Visits
                            </div>
                        </li>
                        <li>
                            <div class="left sparkline_bar_neutral"><span><canvas width="47" height="24" style="display: inline-block; width: 47px; height: 24px; vertical-align: top;"></canvas></span>0%</div>
                            <div class="right">
                                <strong>1433</strong>
                                Users
                            </div>
                        </li>
                        <li>
                            <div class="left sparkline_bar_bad"><span><canvas width="41" height="24" style="display: inline-block; width: 41px; height: 24px; vertical-align: top;"></canvas></span>+50%</div>
                            <div class="right">
                                <strong>8650</strong>
                                Orders
                            </div>
                        </li>
                    </ul>
                </div>
                <div id="breadcrumb">
                    <a href="#" title="" class="tip-bottom" data-original-title="Go to Home"><i class="fa fa-home"></i> Home</a>
                    <a href="#" class="current">Dashboard</a>
                </div>
                <div class="container-fluid">

                    <div class="page-loader" style="height: 748px;">

                    </div><!-- /.page-loader -->

                </div><!-- /.container-fluid -->

            </div>
        </template>